"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.nest = void 0;
/**
 * Converts the given claims into a nested JS object for esier access.
 *
 * @param claims the JWT token claims
 * @returns the nested JWT token claims
 */
function nest(claims) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    const rest = {};
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    const nest = {};
    for (const key in claims) {
        if (key.match(/^(ctx|cfg|stt)\./)) {
            const _key = key.substr(0, 3);
            if (!nest[_key]) {
                nest[_key] = {};
            }
            nest[_key][key.substr(4)] = claims[key];
        }
        else {
            rest[key] = claims[key];
        }
    }
    return Object.assign(Object.assign({}, rest), nest);
}
exports.nest = nest;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvdXRpbHMvbmVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQTs7Ozs7R0FLRztBQUNILFNBQWdCLElBQUksQ0FBQyxNQUFpQjtJQUNwQyw4REFBOEQ7SUFDOUQsTUFBTSxJQUFJLEdBQTJCLEVBQUUsQ0FBQztJQUN4Qyw4REFBOEQ7SUFDOUQsTUFBTSxJQUFJLEdBQTJCLEVBQUUsQ0FBQztJQUV4QyxLQUFLLE1BQU0sR0FBRyxJQUFJLE1BQU0sRUFBRTtRQUN4QixJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsa0JBQWtCLENBQUMsRUFBRTtZQUNqQyxNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM5QixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNmLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7YUFDakI7WUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN6QzthQUFNO1lBQ0wsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN6QjtLQUNGO0lBRUQsdUNBQVksSUFBSSxHQUFLLElBQUksRUFBRztBQUM5QixDQUFDO0FBbkJELG9CQW1CQyJ9