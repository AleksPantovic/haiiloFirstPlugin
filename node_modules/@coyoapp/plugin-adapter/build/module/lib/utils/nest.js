/**
 * Converts the given claims into a nested JS object for esier access.
 *
 * @param claims the JWT token claims
 * @returns the nested JWT token claims
 */
export function nest(claims) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    const rest = {};
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    const nest = {};
    for (const key in claims) {
        if (key.match(/^(ctx|cfg|stt)\./)) {
            const _key = key.substr(0, 3);
            if (!nest[_key]) {
                nest[_key] = {};
            }
            nest[_key][key.substr(4)] = claims[key];
        }
        else {
            rest[key] = claims[key];
        }
    }
    return { ...rest, ...nest };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9saWIvdXRpbHMvbmVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTs7Ozs7R0FLRztBQUNILE1BQU0sVUFBVSxJQUFJLENBQUMsTUFBaUI7SUFDcEMsOERBQThEO0lBQzlELE1BQU0sSUFBSSxHQUEyQixFQUFFLENBQUM7SUFDeEMsOERBQThEO0lBQzlELE1BQU0sSUFBSSxHQUEyQixFQUFFLENBQUM7SUFFeEMsS0FBSyxNQUFNLEdBQUcsSUFBSSxNQUFNLEVBQUU7UUFDeEIsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFDakMsTUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDZixJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO2FBQ2pCO1lBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDekM7YUFBTTtZQUNMLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDekI7S0FDRjtJQUVELE9BQU8sRUFBRSxHQUFHLElBQUksRUFBRSxHQUFHLElBQUksRUFBRSxDQUFDO0FBQzlCLENBQUMifQ==